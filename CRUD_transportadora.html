<!DOCTYPE html>
<html>
<head>
	<title>Listagem de transportadoras</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="estilo_tabelas.css">
	<script>

		$(document).ready(function(){
			var data = {'function' : 'select'};
			var url = 'index_transportadora.php';
			$.ajax({				
				type : "GET",
				url : url,
				data : data,
				success : function(result){
						//metodo para construir tabela dinamicamente copiado desse link
						//http://www.codemag.com/Article/1511031
						var json_resposta = JSON.parse(result);
						for(var i = 0; i<json_resposta.length; i++){
							var query_string = '?id_transportadora='+json_resposta[i].id_transportadora +
							'&nome_transportadora='+json_resposta[i].nome+'&situacao_transportadora='+(json_resposta[i].ativa ? 'ativa' : 'inativa');
							$('#tabela tbody').append(
							"<tr>" + 
							"<td>"+json_resposta[i].id_transportadora+"</td>" + 
							"<td>"+json_resposta[i].nome+"</td>" + 
							"<td>"+(json_resposta[i].ativa ? "Ativa" : "Inativa")+"</td>" +
							"<td><a href=\"editar_transportadora.html"+query_string+"\">Editar</a></td>" + 
							"</tr>"				
						);
					}
				}					
			});
		});
	</script>
</head>
<body>
<h1>Listagem de Transportadoras</h1>
<br><br>
<table id="tabela">
	<tr id="cabecalho">
		<th>Id</th>
		<th>Nome</th>
		<th>Situação</th>
		<th></th>	
	</tr>
</table>
</body>
</html>